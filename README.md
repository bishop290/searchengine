# Search Engine
Поисковый движок.  
## Общие сведенья:
Решение практической задачи из курса "Java разработчик" [skillbox.ru](https://skillbox.ru)  
В конфигурационном файле перед запуском приложения задаются адреса сайтов, по которым движок должен осуществлять поиск.  
Поисковый движок парсит все страницы заданных сайтов и индексирует их так, чтобы потом находить наиболее релевантные страницы по любому поисковому запросу.  
Пользователь присылает запрос через API движка.   
Запрос определённым образом трансформируется в список слов, переведённых в базовую форму. Например, для существительных — именительный падеж, единственное число.  
В индексе ищутся страницы, на которых встречаются все эти слова.  
Результаты поиска ранжируются, сортируются и отдаются пользователю.
## Стэк технологий:
Для разработки бэкэнда использован фреймворк __Spring Boot__.  
Для лемматизации текста использован фреймворк __Apache Lucene morphology__.  
Для парсинга HTML используется библиотека __Jsoup__.  
Для тестирования используется библиотека __TestContainers__.  
Для управления миграциями баз данных используется __Liquibase__.  
В качестве базы данных используется __MySQL__.
## Доступные настройки [application.yaml](src/main/resources/application.yaml):
### Настройки индексирования (indexing-settings):  
1. Здесь указываются сайты для индексации.
>   sites:  
    - url: https://sendel.ru/  
    name: sendel  
2. Так же можно задать количество страниц для индексирования за один "проход" прграммы.
 >   number-of-pages-to-index-at-one-time: 30
### Настройки Jsoup (jsoup-settings):
1. Задать значения для индификатора парсера:
> agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.79 Safari/537.36
2. Данные о странице с которой был осуществлен переход парсера:
> referrer: https://www.google.com
3. Так же можно задать время ожидания между парсингом каждой страницы в миллесекундах:
> delay: 1000
### Настройки поиска (search-settings):
1. Задать ограничение для лемм которые встречаются на большом количестве страниц в процентах.  
100 процентов обозначает, что ограничение не установленно.
> frequency-limit-in-percentage: 100
2. Установить количество символов определяющих размер одного сниппета: 
> snippet-size: 300
3. При каждом "n" обращении к кэшу проводить чистку мало запрашиваемых ответов:
> clean-cache-every-n-hits: 100
4. Установить порог обращений до которого запись в кэше считается малозапрашиваемой:
> weight-threshold-for-cleaning: 50